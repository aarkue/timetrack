<ion-grid>
  <ion-row>
    <ion-col size-sm="3" size-md="3" size-lg="3" size-xl="3" *ngFor="let el of activities;let i=index">
    <app-activity-button [activity]="el" [active]="activeIndex===i" [badgeText]="formatDuration(getDurationTodayForActivity(el.id))"
      (activityClick)="onActivityButtonClick($event)" (activityHold)="onActivityButtonHold($event)"
      >
    </app-activity-button>
    </ion-col>
    <ion-col size-sm="3" size-md="3" size-lg="3" size-xl="3">
      <button class="activityButton ion-activatable ripple-parent"
      (click)="addNewActivity()"
      >
        <ion-icon color="medium" name="add-circle" size="large"></ion-icon>
        <br>
      <ion-label class="activityLabel" color="medium">Add...</ion-label>
      <ion-ripple-effect type="unbounded"></ion-ripple-effect>
      </button>
    </ion-col>
  </ion-row>
</ion-grid>
<ion-list>
    <ion-item>
    <ion-label color="medium">Label</ion-label>
    <ion-icon name="clipboard-outline" slot="start" ></ion-icon>
    <ion-label class="detailLabel" color="medium">Duration</ion-label>
    <ion-label class="detailLabel" color="medium">Start</ion-label>
    <ion-label class="detailLabel" color="medium">End</ion-label>
  </ion-item>
  <ion-item *ngFor="let act of getRunningActivities()">
    <ion-label color="primary">{{act.label}}</ion-label>
    <ion-icon [name]="act.icon" slot="start" [ngStyle]="{'color': act.color}"></ion-icon>
    <ion-label class="detailLabel">{{getFormattedDuration(act.startDate)}}</ion-label>
    <ion-datetime [ngModel]="this.getLocalIsoDatetime(act.startDate)" (ngModelChange)="act.startDate = this.getNumberFromIsoDatetime($event); saveChanges();" display-format="HH:mm" picker-format="DD.MM.YYYY | HH:mm">
    </ion-datetime>
    <ion-datetime disabled [ngModel]="this.getLocalIsoDatetime(act.startDate)"  display-format="HH:mm" picker-format="DD.MM.YYYY | HH:mm">
    </ion-datetime>
  </ion-item>
  <ion-item-group *ngFor="let group of groupedTimeTracked; let i = index; trackBy: trackTimeTracked" >
    <ion-item-divider [color]=" i === 0 ? 'light' : ''">
        {{ group.date | date:'fullDate' }}
    </ion-item-divider>
    <ion-item-sliding *ngFor="let t of group.items" >
      <ion-item>
        <ion-label [color]=" i === 0 ? '' : 'medium'">{{this.getActivityByID(t.activityID).label}}</ion-label>
        <ion-icon [name]="this.getActivityByID(t.activityID).icon" slot="start" [ngStyle]="{'color': this.getActivityByID(t.activityID).color}"></ion-icon>
        <ion-label class="detailLabel">{{getFormattedDuration(t.startDate,t.endDate)}}</ion-label>
        <ion-datetime [ngModel]="this.getLocalIsoDatetime(t.startDate)" (ngModelChange)="this.setStartDateByID(t.id,this.getNumberFromIsoDatetime($event))" display-format="HH:mm" picker-format="DD.MM.YYYY | HH:mm">
        </ion-datetime>
        <ion-datetime [ngModel]="this.getLocalIsoDatetime(t.endDate)" (ngModelChange)="this.setEndDateByID(t.id,this.getNumberFromIsoDatetime($event))" display-format="HH:mm" picker-format="DD.MM.YYYY | HH:mm">
        </ion-datetime>
      </ion-item>
      <ion-item-options side="start">
        <ion-item-option color="danger" (click)="deleteTimeTrack(t.id)">
          <ion-icon slot="icon-only" name="trash"></ion-icon>
        </ion-item-option>
        <ion-item-option (click)="editTimeTrack(t.id)">
          <ion-icon slot="icon-only" name="pencil"></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
</ion-item-group>

  <!-- <ion-item-sliding *ngFor="let t of timeTracked;let i=index">
    <ion-item>
    <ion-label>{{t.activity.label}}</ion-label>
    <ion-icon [name]="t.activity.icon" slot="start" [ngStyle]="{'color': t.activity.color}"></ion-icon>
    <ion-label class="detailLabel">{{getFormattedDuration(t.startDate,t.endDate)}}</ion-label>
    <ion-datetime [ngModel]="this.getLocalIsoDatetime(t.startDate)" (ngModelChange)="t.startDate = this.getNumberFromIsoDatetime($event)" display-format="HH:mm" picker-format="DD.MM.YYYY | HH:mm">
    </ion-datetime>
    <ion-datetime [ngModel]="this.getLocalIsoDatetime(t.endDate)" (ngModelChange)="t.endDate = this.getNumberFromIsoDatetime($event)" display-format="HH:mm" picker-format="DD.MM.YYYY | HH:mm">
    </ion-datetime>
  </ion-item>
    <ion-item-options side="start">
      <ion-item-option color="danger" (click)="deleteTimeTrack(i)">
        <ion-icon slot="icon-only" name="trash"></ion-icon>
      </ion-item-option>
      <ion-item-option (click)="editTimeTrack(i)">
        <ion-icon slot="icon-only" name="pencil"></ion-icon>
      </ion-item-option>
    </ion-item-options>
  </ion-item-sliding> -->
</ion-list>
<br>
<ion-button (click)="showStatistics()">Show Statistics</ion-button>